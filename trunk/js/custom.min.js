var device=["iphone3_4","iphone5","ipad","galaxys4","galaxys3","galaxys2","galaxys_note2","galaxys_note","pc","pc_wild","custom"];var activeClass={add:function(a){a.selecter.addClass(a.clsName);return a.selecter},remove:function(a){a.selecter.removeClass(a.clsName);return a.selecter}};function getAgentInfo(b,a){return b.find(a).text()}function deviceLoad(){var a=[],b="http://www.csszengarden.com";$agentLst=$("#agentLst ul ul>li");$.each(device,function(c,j){var e=$agentLst.eq(c),i=getAgentInfo(e,".device_name"),f=getAgentInfo(e,".label"),h=f.split("x"),g=h[0],d=h[1];if(j!="custom"){a.push('<div id="'+j+'" class="device '+j+'" data-orientation="portrait"><div class="frame_wrap"><iframe src="'+b+'" frameborder="0" scrolling="yes"></iframe></div><span class="desc"><span class="ori"><strong>'+i+'</strong> (Portrait) <em class="wid_val">'+g+'</em> x <em class="hgt_val">'+d+'</em></span><span class="land"><strong>'+i+'</strong> (LandScape) <em class="hgt_val">'+d+'</em> x <em class="wid_val">'+g+'</em></span></span><button type="button" title="Device Rotate" class="btn_rotate">회전</button></div><hr>')}else{a.push('<div id="'+j+'" class="device '+j+'" data-orientation="custom"><div class="frame_wrap"><iframe src="'+b+'" frameborder="0" scrolling="yes"></iframe></div><span class="desc"><span class="cstm"><strong>Custom</strong> (User) <em class="wid_val">'+850+'</em> x <em class="hgt_val">'+440+"</em></span></span></div>")}});$("#deviceFrame").append(a).children(".device").not(":eq(0)").hide()}function agentLoad(){$("#dimmed").show();var a="data/agentList.json",b=$.getJSON(a,function(d){var c=[];$.each(d,function(e,f){c.push('<li><a href="#'+e+'" class="tit"><strong>'+e+'</strong></a><ul id="'+e+'" class="category">');$.each(f,function(g,h){c.push('<li><a href="#'+h.idx+'"><em class="device_name">'+h.name+'</em><small class="label">'+h.wid+"x"+h.hgt+'</small><small class="browser">(브라우저 '+h.browser+")</small></a>");if(h.name=="PC"||h.name=="PC Wild"){return true}c.push("</li>")});c.push("</ul></li>")});$("<ul/>",{html:c.join("")}).appendTo("#agentLst");activeClass.add({selecter:$(".category:eq(0)").find("a:eq(0)"),clsName:"on"})}).done(function(){deviceLoad()}).fail(function(c){console.log(c)}).always(function(){})}(function(a){agentLoad();a("#enterURL").on("submit",function(c){var b=document.getElementById("srch").value;a("iframe").attr("src",b);c.preventDefault()});a("#customSize").on("change",function(b){var d=a("#nWid").val(),c=a("#nHgt").val();a("#custom").children(".frame_wrap").css({width:d,height:c}).end().find(".wid_val").text(d).end().find(".hgt_val").text(c);b.preventDefault()});a("#customScale").on("change",function(c){var b=a("#rScale").val();a("#custom").css("transform","scale("+b+")");c.preventDefault()});a("#devices").on("click","button",function(c){var b=this.getAttribute("id");if(a(this).hasClass("active")){return false}activeClass.remove({selecter:a(".category a"),clsName:"on"});activeClass.add({selecter:a(this),clsName:"active"});a(".customs").hide();switch(b){case"btnSingle":a("#deviceFrame").removeClass("rows").find(".device").show().not(":eq(0)").hide();activeClass.add({selecter:a(".category:eq(0)").find("a:eq(0)"),clsName:"on"});activeClass.remove({selecter:a("#btnCustom, #btnMulti"),clsName:"active"});activeClass.remove({selecter:a("#btnHori, #btnVert"),clsName:"active"}).attr("disabled","disabled");break;case"btnCustom":activeClass.remove({selecter:a("#deviceFrame"),clsName:"rows"});activeClass.remove({selecter:a("#btnSingle, #btnMulti"),clsName:"active"});activeClass.remove({selecter:a("#btnHori, #btnVert"),clsName:"active"}).attr("disabled","disabled");a(".device").hide().filter(function(d){return this.id=="custom"}).show();a(".customs").show();break;case"btnHori":activeClass.remove({selecter:a("#deviceFrame"),clsName:"cols"}).addClass("rows");activeClass.remove({selecter:a("#btnVert"),clsName:"active"});break;case"btnVert":activeClass.remove({selecter:a("#deviceFrame"),clsName:"rows"}).addClass("cols");activeClass.remove({selecter:a("#btnHori"),clsName:"active"});break;case"btnMulti":activeClass.add({selecter:a(".category a"),clsName:"on"});activeClass.remove({selecter:a("#btnSingle, #btnCustom"),clsName:"active"});a("#btnHori, #btnVert").removeAttr("disabled");a(".device").filter(function(d){return this.id!="custom"}).show();break;default:break}});a("#help").on("click",function(c){var b=a("#lyWorks");if(b.is(":hidden")){a("#dimmed").show();b.show()}c.preventDefault()});a("#lyWorks").on("click","a.btn_clse",function(b){a("#dimmed").hide();a(this).parents("#lyWorks").hide();b.preventDefault()});a("#agentLst").on("click",".tit",function(c){var b=this.getAttribute("href");(!a(b).is(":hidden"))?a(b).slideUp("fast"):a(b).slideDown("fast");c.preventDefault()}).on("click",".category a",function(b){var c=this.getAttribute("href").replace("#","");if(a("#btnCustom").hasClass("active")||a("#btnMulti").hasClass("active")){return false}activeClass.remove({selecter:a(".category a"),clsName:"on"});activeClass.add({selecter:a(this),clsName:"on"});a("#"+c).show().siblings(".device").hide();b.preventDefault()});a(".btn_rotate").live("click",function(d){var b=a(this).parent(".device"),c=b.attr("data-orientation");switch(c){case"portrait":b.attr("data-orientation","landscape");break;case"landscape":b.attr("data-orientation","portrait");break;default:break}})})(jQuery);window.addEventListener("load",function(){$("#dimmed").hide()});